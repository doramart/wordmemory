import{D as e,I as t,J as n,M as r,U as i,W as a,Y as o,at as s,ct as c,et as l,it as u,n as d,nt as f,p,q as m,r as h,s as g}from"./vue-qqQgwo1J.js";import"./vendor-BZARPbSw.js";import"./vant-BwjjKKVX.js";import{n as _,t as v}from"./index-DngR5WJL.js";import{t as y}from"./useStudyMode-Cc2-78KI.js";var b={class:`word-layout`},x={class:`layout-header`},S={class:`header-content`},C={class:`user-profile`},w={class:`user-name`},T={class:`avatar`},E={class:`layout-main`},D=v({__name:`WordLayout`,setup(v){let D=t(),O=_(),{setMode:k,mode:A}=y(),j=i(()=>O.userName||`学习者`),M=s(!1),N=s(!1),P=[{text:`记忆模式`,icon:`setting-o`,id:`mode`},{text:`退出登录`,icon:`revoke`,id:`logout`,color:`#ee0a24`}],F=i(()=>[{name:`完整显示`,subname:`显示所有内容`,value:`full`,color:A.value===`full`?`#1989fa`:void 0},{name:`只看单词`,subname:`隐藏释义和例句`,value:`wordOnly`,color:A.value===`wordOnly`?`#1989fa`:void 0},{name:`只看中文`,subname:`隐藏单词拼写`,value:`meaningOnly`,color:A.value===`meaningOnly`?`#1989fa`:void 0}]),I=e=>{e.id===`logout`?R():e.id===`mode`&&(N.value=!0)},L=e=>{k(e.value)},R=()=>{p({title:`确认退出`,message:`确定要退出登录吗？`}).then(async()=>{try{await O.logout(),D.push(`/login`)}catch(e){console.error(`Logout failed:`,e),await O.logout(),D.push(`/login`)}}).catch(()=>{})};return(t,i)=>{let s=r,p=g,_=f(`router-view`),v=d,y=h,D=e;return l(),m(`div`,b,[a(`header`,x,[a(`div`,S,[i[2]||=a(`div`,{class:`brand-block`},[a(`h1`,null,`单词速记`),a(`span`,{class:`version-tag`},`AI`)],-1),o(p,{show:M.value,"onUpdate:show":i[0]||=e=>M.value=e,placement:`bottom-end`,actions:P,onSelect:I},{reference:u(()=>[a(`div`,C,[a(`span`,w,c(j.value),1),a(`div`,T,[o(s,{name:`manager`})])])]),_:1},8,[`show`])])]),a(`main`,E,[o(_)]),o(y,{route:``,fixed:``,"safe-area-inset-bottom":``},{default:u(()=>[o(v,{replace:``,to:`/words/learn`,icon:`fire-o`},{default:u(()=>[...i[3]||=[n(` 学习 `,-1)]]),_:1}),o(v,{replace:``,to:`/words/manage`,icon:`add-o`},{default:u(()=>[...i[4]||=[n(` 添加 `,-1)]]),_:1}),o(v,{replace:``,to:`/words/review`,icon:`records`},{default:u(()=>[...i[5]||=[n(` 列表 `,-1)]]),_:1})]),_:1}),o(D,{show:N.value,"onUpdate:show":i[1]||=e=>N.value=e,actions:F.value,"cancel-text":`取消`,description:`选择记忆模式`,"close-on-click-action":``,onSelect:L},null,8,[`show`,`actions`])])}}},[[`__scopeId`,`data-v-d7a7efb1`]]);export{D as default};